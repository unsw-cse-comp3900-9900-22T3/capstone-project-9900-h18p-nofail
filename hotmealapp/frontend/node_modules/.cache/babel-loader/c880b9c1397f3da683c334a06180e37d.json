{"ast":null,"code":"var _jsxFileName = \"/Users/shixinyi/Desktop/year2/term1/6080/ass3/frontend/src/pages/Editquiz.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Card, Row, Col, Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Editquiz() {\n  _s();\n\n  const params = useParams();\n  const id = params.quizid;\n  let questions = React.useState();\n  const token = localStorage.getItem('token');\n\n  const getquiz = async id => {\n    const response = await fetch('http://localhost:5005/admin/quiz/' + id, {\n      method: 'GET',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    });\n    const data = await response.json();\n    const questions = data.questions;\n    localStorage.setItem('questions', JSON.stringify(questions));\n  };\n\n  getquiz(id);\n  questions = JSON.parse(localStorage.getItem('questions'));\n\n  const fresh = async () => {\n    await getquiz(id);\n    location.reload();\n  };\n\n  const deleteQuestion = async questionid => {\n    const num = questions.length;\n\n    for (let i = 0; i < num; i++) {\n      if (questions[i].id === questionid) {\n        questions.splice(i, 1);\n      }\n    }\n\n    await fetch('http://localhost:5005/admin/quiz/' + id, {\n      method: 'PUT',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: 'Bearer ' + token\n      },\n      body: JSON.stringify({\n        questions\n      })\n    });\n    fresh();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Title\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edit quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      xs: 1,\n      md: 4,\n      className: \"g-4\",\n      children: questions.map(question => /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n            variant: \"top\",\n            src: question.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: question.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [\"question: \", question.text]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [\"time limit: \", question.time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [\"value \", question.value]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [\"answer: \", question.answer.map((item, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [item, \" \"]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 65\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-primary\",\n              size: \"sm\",\n              href: `/editquestion${id}${question.id}`,\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-secondary\",\n              size: \"sm\",\n              onClick: e => deleteQuestion(question.id, e),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, question.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/question/new${id}`,\n      children: \"Create new question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Editquiz, \"aV8gEpz5A8efOo78qWYoV6NbJo4=\", false, function () {\n  return [useParams];\n});\n\n_c = Editquiz;\nexport default Editquiz;\n\nvar _c;\n\n$RefreshReg$(_c, \"Editquiz\");","map":{"version":3,"sources":["/Users/shixinyi/Desktop/year2/term1/6080/ass3/frontend/src/pages/Editquiz.jsx"],"names":["React","useParams","Link","Card","Row","Col","Button","Editquiz","params","id","quizid","questions","useState","token","localStorage","getItem","getquiz","response","fetch","method","headers","Authorization","data","json","setItem","JSON","stringify","parse","fresh","location","reload","deleteQuestion","questionid","num","length","i","splice","body","map","question","image","type","text","time","value","answer","item","index","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport {\n  Card,\n  Row,\n  Col,\n  Button\n} from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction Editquiz () {\n  const params = useParams();\n  const id = params.quizid\n  let questions = React.useState();\n  const token = localStorage.getItem('token');\n  const getquiz = async (id) => {\n    const response = await fetch('http://localhost:5005/admin/quiz/' + id, {\n      method: 'GET',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: 'Bearer ' + token,\n      }\n    })\n    const data = await response.json();\n    const questions = data.questions\n    localStorage.setItem('questions', JSON.stringify(questions))\n  }\n  getquiz(id)\n  questions = JSON.parse(localStorage.getItem('questions'))\n  const fresh = async () => {\n    await getquiz(id)\n    location.reload()\n  }\n  const deleteQuestion = async (questionid) => {\n    const num = questions.length\n    for (let i = 0; i < num; i++) {\n      if (questions[i].id === questionid) {\n        questions.splice(i, 1)\n      }\n    }\n    await fetch('http://localhost:5005/admin/quiz/' + id, {\n      method: 'PUT',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: 'Bearer ' + token,\n      },\n      body: JSON.stringify({ questions })\n    })\n    fresh()\n  }\n  return <>\n    <div className='Title'><h1>Edit quiz</h1></div>\n    <Row xs={1} md={4} className=\"g-4\">\n        {questions.map(question => (\n          <Col key={question.id}>\n            <Card>\n              <Card.Img variant=\"top\" src={question.image} />\n              <Card.Body>\n                <Card.Title>{question.type}</Card.Title>\n                <Card.Text>\n                  question: {question.text}\n                </Card.Text>\n                <Card.Text>\n                  time limit: {question.time}\n                </Card.Text>\n                <Card.Text>\n                  value {question.value}\n                </Card.Text>\n                <Card.Text>\n                  answer: {question.answer.map((item, index) => <span key={index}>{item} </span>)}\n                </Card.Text>\n                <Button variant=\"outline-primary\" size=\"sm\" href={`/editquestion${id}${question.id}`}>Edit</Button>\n                <br />\n                <Button variant=\"outline-secondary\" size=\"sm\" onClick={e => deleteQuestion(question.id, e)}>Delete</Button>\n              </Card.Body>\n            </Card>\n          </Col>\n        ))}\n      </Row>\n      <br />\n      <Link to={`/question/new${id}`}>Create new question</Link>\n  </>\n}\nexport default Editquiz;\n"]},"metadata":{},"sourceType":"module"}