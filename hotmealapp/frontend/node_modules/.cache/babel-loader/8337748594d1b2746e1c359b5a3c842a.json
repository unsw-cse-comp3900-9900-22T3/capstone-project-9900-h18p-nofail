{"ast":null,"code":"var _jsxFileName = \"/Users/shixinyi/Desktop/6080/ass3/frontend/src/pages/Play.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Form } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Play() {\n  _s();\n\n  const params = useParams();\n  const token = localStorage.getItem('token');\n  const sessionid = params.sessionid;\n  const playerid = localStorage.getItem('playerid');\n  const navigate = useNavigate();\n  const [show, setShow] = React.useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [answer, setAnswer] = React.useState([]);\n\n  const getsession = async id => {\n    const response = await fetch('http://localhost:5005/admin/session/' + id + '/status', {\n      method: 'GET',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    });\n    const data = await response.json();\n    localStorage.setItem('session', JSON.stringify(data));\n  };\n\n  getsession(sessionid);\n  const session = JSON.parse(localStorage.getItem('session'));\n  const question = session.questions[session.position];\n\n  if (question.type === 'multiple choice') {\n    handleClose();\n  } else {\n    handleShow();\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Title\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Playing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Container\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Question: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          children: question.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Image: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: question.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Choose your answer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          children: question.type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          show: show,\n          onChange: e => setAnswer(e.target.value),\n          children: question.answer.map((item, index) => {\n            /*#__PURE__*/\n            _jsxDEV(\"option\", {\n              children: item\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          show: !show,\n          multiple: \"multiple\",\n          onChange: e => setAnswer(e.target.value),\n          children: question.answer.map((item, index) => {\n            /*#__PURE__*/\n            _jsxDEV(\"option\", {\n              children: item\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Answer: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Play, \"TBBP8xxjrtBs++xu2uv75X+SDJ0=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = Play;\nexport default Play;\n\nvar _c;\n\n$RefreshReg$(_c, \"Play\");","map":{"version":3,"sources":["/Users/shixinyi/Desktop/6080/ass3/frontend/src/pages/Play.jsx"],"names":["React","useNavigate","useParams","Form","Play","params","token","localStorage","getItem","sessionid","playerid","navigate","show","setShow","useState","handleClose","handleShow","answer","setAnswer","getsession","id","response","fetch","method","headers","Authorization","data","json","setItem","JSON","stringify","session","parse","question","questions","position","type","text","image","e","target","value","map","item","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n  Form,\n} from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction Play () {\n  const params = useParams();\n  const token = localStorage.getItem('token');\n  const sessionid = params.sessionid\n  const playerid = localStorage.getItem('playerid')\n  const navigate = useNavigate();\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const [answer, setAnswer] = React.useState([]);\n  const getsession = async (id) => {\n    const response = await fetch('http://localhost:5005/admin/session/' + id + '/status', {\n      method: 'GET',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: 'Bearer ' + token,\n      }\n    })\n    const data = await response.json();\n    localStorage.setItem('session', JSON.stringify(data))\n  }\n  getsession(sessionid)\n  const session = JSON.parse(localStorage.getItem('session'))\n  const question = session.questions[session.position]\n  if (question.type === 'multiple choice') {\n    handleClose()\n  } else {\n    handleShow()\n  }\n  return <>\n    <div className='Title'><h1>Playing</h1></div>\n    <div className='Container'>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Question: </Form.Label>\n        <Form.Text>{question.text}</Form.Text>\n      </Form.Group>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Image: </Form.Label>\n        <img src={question.image} />\n      </Form.Group>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Choose your answer</Form.Label>\n        <Form.Text>{question.type}</Form.Text>\n        <Form.Select show={show} onChange={e => setAnswer(e.target.value)}>\n          {question.answer.map((item, index) => {\n            <option key={index}>{item}</option>\n          })}\n        </Form.Select>\n        <Form.Select show={!show} multiple='multiple' onChange={e => setAnswer(e.target.value)}>\n          {question.answer.map((item, index) => {\n            <option key={index}>{item}</option>\n          })}\n        </Form.Select>\n      </Form.Group>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Answer: </Form.Label>\n        <Form.Text></Form.Text>\n      </Form.Group>\n    </div>\n  </>\n}\nexport default Play;\n"]},"metadata":{},"sourceType":"module"}